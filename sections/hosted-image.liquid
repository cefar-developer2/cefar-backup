<div class="self-hosted-image block relative" {% if section.settings.link != '' %}href="{{ section.settings.link }}"{% endif %}>
  {% if section.settings.video_file != '' %}
    <video id="bgvid" preload="auto" autoplay loop muted playsinline class="ab-background-video w-full lg:block" data-mobile-vid="{{ section.settings.mobile_video_file | file_url }}"
  data-desktop-vid="{{ section.settings.video_file | file_url }}" ></video>
  {% else %}
    <img src="{{ section.settings.image_path }}">
  {% endif %}
  {% unless section.settings.text_banner %}
    <div class="absolute left-0 top-0 w-full h-full flex flex-col justify-center items-center">
      <h2 class="text-white lg:w-1/2 lg:mb-11 lg:text-3xl mb-4 text-xl text-center uppercase">{{ section.settings.text_banner_title }}</h2>
      {% if section.settings.text_banner_button_title != '' %}
        <a href="{{ section.settings.text_banner_button_url }}" class="btn btn--white-outline w-56">{{ section.settings.text_banner_button_title }}</a>
      {% endif %}
    </div>
  {% endunless %}
</div>
{% if section.settings.text_banner %}
  <div class="bg-palepink lg:pt-16 lg:pb-16 pt-4 pb-6">
    <div class="container flex flex-col items-center">
      <h2 class="text-pink lg:mb-11 lg:text-3xl hidden mb-4 text-xl text-center uppercase">{{ section.settings.text_banner_title }}</h2>
      <a href="{{ section.settings.text_banner_button_url }}" class="btn btn--pink w-56">{{ section.settings.text_banner_button_title }}</a>
    </div>
  </div>
{% endif %}
<style type="text/css">
  .self-hosted-image {
    width: 100%;
  }
  .self-hosted-image img {
    width: 100%;
    display: inline-block;
  }
</style>


{% schema %}
  {
    "name": "Hosted image",
    "settings": [
      {
        "type": "text",
        "id": "video_file",
        "label": "Video File",
        "info": "The name and extension of the video file uploaded to the Files section of the Shopify admin",
        "placeholder": "video.mp4"
      },
      {
        "type": "text",
        "id": "mobile_video_file",
        "label": "Mobile Video File",
        "info": "The name and extension of the video file uploaded to the Files section of the Shopify admin",
        "placeholder": "video.mp4"
      },
      {
        "type": "url",
        "id": "link",
        "label": "Link"
      },
      {
        "type": "text",
        "id": "image_path",
        "label": "Image",
        "info": "1200 x 600px (recommended)",
        "default": "//placehold.it/1200x600"
      },
      {
        "type": "checkbox",
        "id": "text_banner",
        "label": "Display Text Banner"
      },
      {
        "type": "text",
        "id": "text_banner_title",
        "label": "Text Banner Title"
      },
      {
        "type": "text",
        "id": "text_banner_button_title",
        "label": "Text Banner Button Title"
      },
      {
        "type": "url",
        "id": "text_banner_button_url",
        "label": "Text Banner Button Url"
      }
    ],
    "presets": [
	  {
		"name": "Hosted image",
        "category": "Image",
        "settings": {
          "image_path": "//placehold.it/1200x600"
        }
	  }
	]
  }
{% endschema %}

{% stylesheet 'scss' %}
.self-hosted-image {
  width: 100%;

  img {
    display: block
    width: 100%;
  }
}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
