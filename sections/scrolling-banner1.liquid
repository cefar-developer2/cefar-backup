<div class="bg-black text-white py-11">
    <div class="flex justify-between mb-12 max-w-2xl px-4 md:px-0 mx-auto">
        {% for block in section.blocks %}
            {% if block.type == 'image' %}
                <img src="{{ block.settings.image | image_url }}" class="mx-1 w-1/4 lg:w-auto md:max-w-[152px]">
            {% endif %}
        {% endfor %}
    </div>
    <div class="scrolling-banner">
        <div class="scrolling-banner__scroll flex">
            {% for i in (1..4) %}
                {% for block in section.blocks %}
                    {% if block.type == 'text' %}
                        <p class="text-lg">{{ block.settings.text }} <span class="inline-block mx-2">â€¢</span></p>
                    {% endif %}
                {% endfor %}
            {% endfor %}
        </div>
    </div>
</div>

<style>
    .scrolling-banner {
        position: relative;
        width: 100vw;
        max-width: 100%;
        height: 30px;
        overflow-x: hidden;
    }

    .scrolling-banner__scroll {
        position: absolute;
        white-space: nowrap;
        will-change: transform;
        animation: marquee 50s linear infinite;
    }

    @keyframes marquee {
        from { transform: translateX(0); }
        to { transform: translateX(-50%); }
    }
</style>

{% schema %}
{
"name": "Scrolling Banner",
"blocks": [
    {
        "name": "Image",
        "type": "image",
        "settings": [
            {
                "type": "image_picker",
                "label": "Image",
                "id": "image"
            }
        ]
    },
    {
        "name": "Text",
        "type": "text",
        "settings": [
            {
                "type": "text",
                "label": "Text",
                "id": "text"
            }
        ]
    }
],
"presets": [
    {
        "name": "Scrolling Banner",
        "category": "Icon",
        "blocks": [
            {
                "type": "text"
            },
            {
                "type": "image"
            }
        ]
    }
]
}
{% endschema %}
